
    TODO: 21/11/2022
       [] Hacer el teclado más grande y que se cierre al pulsar enter o picar fuera en la pantalla.

    TODO: 10/11/2022
        [] - En la propuesta que vimos, para seleccionar una cuenta sin IBAN, se selecciona por "cuenta bancaria" y
          desde ahí se ven todas las registradas. ¿Es posible que muestre en ese apartado todas las cuentas sin IBAN
          registradas y se seleccione pinchando encima?
        [] - El teclado emergente que aparece cuando se debe cumplimentar algún dato, tapa las opciones de aceptar o cancelar
          y se debe pulsar un botón nada intuitivo para que desaparezca.
          ¿Es posible que al pulsar Enter desaparezca de la pantalla? O al menos,
          que el teclado no impida visualizar las opciones para poder continuar el proceso.
          El viajero puede estar un rato hasta dar con la tecla que lo hace desaparecer.
        [] - y la mayoría de sugerencias fueron por el teclado. que sea mas grande, que con el enter y el tab pase de campo,
          que picando fuera se cierre,....

    TODO: 1/12/2022
        [*] - 06E859 Error en la presentación. Motivo: Justificante eliminado
             Mensaje en Kiosco: SU JUSTIFICANTE ESTÁ ELIMINADO. NO PROCEDE LA DEVOLUCIÓN.
        [*] - 06E800 Autoliquidación duplicada. No se permite la presentación
             Mensaje en Kiosco: SU JUSTIFICANTE HA SIDO PRESENTADO EN UNA SOLICITUD PREVIA. NO PROCEDE LA DEVOLUCIÓN.

    TODO: 21/11/2022
        [*] - Pantalla 3: Localizar una imagen más representativa, que se parezca más al formato del kiosco o a un lector
             de QR.

    TODO: 21/11/2022
        [*] - Pantalla 3: Ventana modal de escanear documento de DER esta imagen no deberá permanecer tras el primer escaneo.

    TODO: 30/11/2022
        [*] - 06E859 Error en la presentación. Motivo: Justificante eliminado.
        [*] - 06E800 Autoliquidación duplicada. No se permite la presentación.

    TODO: 28/11/2022
        [*] - Pantalla 2: cambiar el foco del campo del nie y nit a la imagen.

    TODO: 21/11/2022
        [*] - Pantalla 3: Localizar una imagen más representativa, que se parezca más al formato del kiosco o a un lector
             de QR.

    TODO: 21/11/2022
        [*] - Pantalla 3: Ventana modal de escanear documento de DER esta imagen no deberá permanecer tras el primer escaneo.

    TODO: 28/11/2022
        [*] - Pantalla 1: crear un QR dinámico que lea la información del archivo de parametros para la información de
              la guía del proceso de la presentación del DER.
        [*] - Pantalla 2: Separar las imagenes del pasaporte y el DNI.
        [*] - Solventado el error del llamado a los métodos JPA de spring.

    TODO: 21/11/2022
       [*] - Proceso finalizado. Su solicitud ha sido validada. Gracias por su visita a las Islas Canarias, que tenga un
             buen viaje de vuelta a casa.
       [*] - Proceso finalizado. Su solicitud queda pendiente de aportar documentación de importación en destino. Le
             informaremos vía email del proceso de su solicitud. Se lo informara el estado del proceso al mail <mail>
       [*] - Proceso finalizado. Le informaremos vía email del proceso de su solicitud. Se lo informara el estado del
             proceso al mail <mail>
       [*] - El botón "SALIR" cambiarlo por "CANCELAR SOLICITUD" y el finalizar escaneo por "CONTINUAR"
       [*] - El mensaje de fecha límite caducada cambiarlo por "Se han superado los 3 meses desde la compra, no se permite
             la solicitud de la devolución del IGIC".
       [*] - Los idiomas en el centro y el vídeo más pequeño y en una esquina
       [*] - Cambiar el orden, primero introducción manual y la caja de texto para el número de pasaporte / DNI y luego
             la información de la opción de escanear.
       [*] - En las pantallas de mensajes para el error y el mensaje de warnig (codigo VF)
       [*] - Proceso finalizado. Le informaremos al mail <mail del viajero> del proceso de su solicitud. Y quitar el
             icono del aspa rojo.
       [*] - Su solicitud está sujeta a comprobación física. Diríjase al personal de la Agencia Tributaria Canaria.
             Le informaremos al mail <mail del viajero> del proceso de su solicitud.
       [*] - Cuando no pase la validación de los 3 meses, poner como mensaje "Han transcurrido más de 3 meses desde su compra;
             no procede devolución por este importe".
       [*] - Cuando el resultado de la presentación sea ausencia de conexión con M@gin o un error de M@gin no subsanable por
             el viajero en el kiosco, la pantalla que habrá que dar deberá llevar el siguiente literal: "Proceso finalizado.
             Le informaremos al email xxxxxxx sobre el curso de su solicitud." Eliminar el aspa roja a esta pantalla para
             evitar confusiones. Además, como se comentó, habrá que indicar en pantalla al email que se le va a enviar
             la información.
       [*] - El de error (el de conexión, y los que se reintentan ER,KO,PR02) por "Proceso finalizado. Le informaremos al
             email xxxxxxx sobre el curso de su solicitud" y quitar el icono del aspa rojo y se quedan sin icono.
       [*] - Estado VF queda el mensaje : "Su solicitud queda pendiente de aportar documentación de importación en destino.
             Le informaremos al email xxxxxx del proceso de su solicitud."
       [*] - El estado OK con viajero de la UE quedaría : "Su solicitud queda pendiente de aportar documentación de importación
             en destino. Le informaremos al email xxxxxx del proceso de su solicitud."
       [*] - Pantalla 3: Poner en el literal "Escanee uno a uno los QR de los modelos 403 en la parte inferior de la máquina,
             apoyando el documento en la bandeja del lector".
       [*] - Pantalla 4: Sustituir el botón "Salir" por "Cancelar" y el de "Finalizar Escaneo" por "Continuar".
       [*] - Pantalla 7.1: POner como literal "Su solicitud queda pendiente de aportar documentación de importación en
             destino. Le informaremos al email xxxxxx del proceso de su solicitud". Debe aparecer el email que ha confirmado.
       [*] - Pantalla 10:  Poner como literal "Su solicitud está sujeta a comprobación física. Diríjase al personal de
             la Agencia Tributaria Canaria. Le informaremos al email xxxxxx del proceso de su solicitud". Debe aparecer
             el email que ha confirmado.
       [*] - Pantalla inicial: Sustituir el literal "lea el QR para tener una guía de la devolución del IGIC" por
             "Si desea una guía del proceso de solicitud de devolución del IGIC, escanee el siguiente código QR con su
             teléfono móvil".
       [*] - Pantalla 2: Invertir el orden: cambiar los literales "Puede introducir su documento de identidad" y debajo
             "O escanearlo apoyándolo en la bandeja del lector".
       [*] - Pantalla inicial: poner el apartado de "Seleccione su idioma" con las banderas ocupando el mayor espacio de
             la pantalla y la información para optener la guía ponerla debajo de las banderas, poder ser en la esquina
             inferior derecha.
       [*] - Pantalla 2: Invertir el orden: poner encima "Puede introducir su documento de identidad" y debajo
             "O escanearlo apoyándolo en la bandeja del lector".
       [*] - Pantalla 6: al pulsar en el botón "Seleccionar" de las cuentas, si se pulsa en la parte de códigos de cuentas
       [*] - Pantalla 6: En el calendario, desmarcar los días en rojo..
       [*] - Sustituir <EMAIL> por el email del viajero.
       [*] - Pantalla 5: debe sombrear en rojo todos los campos obligatorios que estén vacíos (antes de dar al botón finalizar).
       [*] - Poner la nota de selección de cuenta en la casilla de al lado de "5.- Medio de Pago", es decir, encima de
             las columnas de cuentas IBAN o sin IBAN. Poner esta nota y el aviso importante de campos obligatorios en
             letra color rojo.
       [*] - Para las Islas Caiman mostró el mensaje de ok como si fuese un país de la UE. Revisar mensajes y de donde.
               NOTA: EL MENSAJE ESTÁ BIEN PORQUE ESTÁ RETORNANDO UN CÓDIGO DE ERROR DE RED Y ESO NO TIENE FORMATO POR
               PAÍSES DE LA COMUNIDAD
       [*] - Pantalla 2: En la parte de escaneo, eliminar el dibujo de la pantalla y poner la imagen de un DNI y de un
             pasaporte, marcando con un recuadro rojo la parte del documento que tiene que escanear.
       [*] Revisar campos obligatorios en la opción sin iban. Permitió enviar sin clave de control ni código del banco.
               [*] - Clave del banco (obligatorio excepto EEUU, longitud 15). Alfanumérico
               [*] - Clave de control (opcional según país, longitud 2). Alfanumérico, de momento es opcional.
       [*] El switch no muestra las letras. Viene del der con letras y las quita.
       [*] Inclusión del error 06E800 Autoliquidación duplicada. No se permite la presentación

   TODO: 18/11/2022
       [*] . crear proceso de mantenimiento en lote de los DER que quedan en el proceso cron con estatus 2

   TODO: 21/11/2022
       [*] Formato de los importes con separador de decimales , y de miles el .
       .
       [*] - Fecha salida puede ser hoy y mañana dependiendo de la hora en la que estoy escaneando, si son las 11 y media de
            la noche y salgo a la 1 de la madrugada me debe poder dejar poner el día de mañana.


    TODO: 18/11/2022
        [*] - Digic entre paréntesis en las cabeceras de las pantallas
        [*] - Permitir letras y número en el switch.
        [*] - Iban pasarlo a mayúsculas
        [*] - cambio de mensaje de error Alert por un LoadDialog()
        [*] - Creo que con el DER en papel a veces da error al pasarlo un poco doblado. Si da error que salga un error
              más identificativo, "inténtelo de nuevo"

    TODO: 16/11/2022
        [*] - Error BigDecimal en el campo de TotalDigic en el DER.

    TODO: 10/11/2022
        [*] - CREAR la notificación del procesando en los procesos que quedan en espera.
        [*] - Siguen sin aparecer las pantallas de "procesando", donde se les dé feedback a los viajeros para que
        [*] - sepan qué esperar y si está recogiendo o no los datos o si ya puede escanear otro documento.

    TODO: 15/11/2022
        Según la respuesta del servicio aparecerán los siguientes mensajes:
        [*] - OK y es País de UE
        [*] - icono de ok verde
        [*] - SU SOLICITUD HA SIDO VALIDADA. GRACIAS POR SU VISITA A LAS ISLAS CANARIAS, QUE TENGA UN BUEN VIAJE DE VUELTA A CASA.
        [*] - OK y no es País de UE.
        [*] - icono de ok verde
        [*] - SU SOLICITUD QUEDA PENDIENTE DE APORTAR DOCUMENTACIÓN DE IMPORTACIÓN EN DESTINO. LE INFORMAREMOS VÍA EMAIL
              DEL PROCESO DE SU SOLICITUD.
        [*] - VF.
        [*] - icono de warning.
        [*] - SU SOLICITUD ESTÁ SUJETA A COMPROBACIÓN FÍSICA. DIRÍJASE AL PERSONAL DE LA AGENCIA TRIBUTARIA CANARIA.
              LE INFORMAREMOS VÍA EMAIL DEL PROCESO DE SU SOLICITUD.
        [*] - ER
        [*] - icono de error rojo
        [*] - LE INFORMAREMOS VÍA EMAIL DEL PROCESO DE SU SOLICITUD
        [*] - KO
        [*] - icono de error rojo
        [*] - LE INFORMAREMOS VÍA EMAIL DEL PROCESO DE SU SOLICITUD

    TODO: 11/11/2022
        [*] - PANTALLA 403
        [*] - RESOLVER LA ACTIVACIÓN DE AÑADIR MODELO 403.

    TODO: 11/11/2022
        [*] - Icono de ERROR en el resultado del DER cambiarlo a Warning.
        [*] - Que en la pantalla después de meter el pasaporte aparezca ya activa la ventana modal con el texto
              "Escanee los der de uno en uno y pulse cerrar cuando termine".
        [*] - pantalla validar der activar la solicitud de fecha de embarque
        [*] - Pantalla 8f5e2665:
            [*] - 4.- "Datos del transporte".
            [*] - Dar formato correcto a la fecha.
        [*] - Pantalla 63bf590c:
            [*] - "... para tener una guía" (falta la u).
            [*] - Las fechas en formato español (dd-MM-aaaa)
        [*] - Pantalla d5ebb9bf:
            [*] - 1.- "Datos del establecimiento de venta"
            [*] - 2.- "Datos de la factura".
            [*] - 3.- Datos del viajero: "tipo de documento", "nº de documento", "país de expedición".
            [*] - número factura (falta tilde)
            [*] - Dar formato español a la fecha.

    TODO: 10/11/2022
        [*] - Capturas de pantalla de cada paso para validarlas.
        [*] - El switch/bic alfanumérico.
        [*] - La clave de control es de dos dígitos (alfanumérico)
        [*] - En las cuentas sin IBAN poner los campos en el mismo orden que en el DER, excepto la cuenta bancaria que sirve de selector que si va al principio.
        [*] - Añadir un texto encima de la caja de las cuentas que indique "Seleccione una cuenta o rellene una nueva".
        [*] - La pantalla donde se deben seleccionar los datos definitivos no es intuitiva: poner una indicación de "Seleccione en el desplegable una cuenta con IBAN o sin IBAN o introduzca una nueva cuenta".
        [*] - Sigue habiendo un punto crítico para empezar a escanear el primer DER: no es intuitivo. Como acordamos, después de la pantalla de identificación del viajero, poner la pantalla con imagen para empezar a escanear y que el literal sea: "Escanee uno a uno los QR de los Modelos 403 en la parte inferior de la máquina". Esta pantalla debe saltar automáticamente, sin necesidad de presionar el botón de "Añadir Modelo 403+".
        [*] - Revisar las longitudes de los campos de las cuentas sin IBAN: se siguen detectando errores en este sentido. Se observa que la clave de control permite más dígitos que los definidos.
        [*] - En las cuentas sin IBAN, en el supuesto de introducirla manualmente, el campo de SWIFT/BIC está como numérico, cuando está definido que sea alfanumérico.
        [*] - las longitudes de los campos de la cuenta sin iban son:
        [*] - País del banco (obligatorio, longitud 3)Generalmente son longitud 2. SefLogic ha decidido dejarlo abierto a longitud 3. Alfanumérico
        [*] - Clave del banco (obligatorio excepto EEUU, longitud 15). Alfanumérico
        [*] - Cuenta bancaria (obligatorio, longitud 18). Alfanumérico
        [*] - Clave de control (opcional según país, longitud 2). Alfanumérico, de momento es opcional.
        [*] - Descripción de institución financiera (obligatorio, longitud 20). Alfanumérico
        [*] - SWIFT/BIC (obligatorio, longitud 11). Alfanumérico
        [*] - Número ABA (obligatorio EEUU, longitud 15). Alfanumérico


    TODO:
        [*] - Parece que se hace un lío con las cuentas, las validaciones deben ser las siguientes:
        [*] - Validaciones de la cuenta sin IBAN:
        [*] - Cuenta con IBAN solo debe informar el IBAN.
        [*] - IBAN, se valida tanto para los nacionales como extranjeros.
        [*] - Cuenta sin IBAN se necesitan los siguiente datos:
        [*] - Código del País. Obligatorio 3 caracteres máximo. Se valida que sea un país válido existente en tablas de países.
        [*] - Clave del banco, Obligatorio (menos para US si añade el ABA)
        [*] - Clave de control (Opcional según país) que países, de momento es opcional
        [*] - Número de cuenta bancaria, obligatorio
        [*] - Descripción financiera de la entidad, obligatorio
        [*] - Swift/BIC, obligatorio
        [*] - ABA Es obligatorio . Solo para el país Estados Unidos.
        [*] - US la clave del banco es opcional.
        .
        [*] - En la elección de la cuenta en la versión actual no está muy bien.
        [*] - si el país es Mauritania que el código es MR, siempre lo pone con MA, y rellena el combo de países con
                 opciones que iban en otros DER y añade MAU, cuando en los justificante escaneados no hay ninguno que tenga MAU ni MA.
        [*] - Con la cuenta sigue haciendo algo raro, porque mezcla la cuenta con iban con la cuenta sin iban, en el campo valorMedioPago,
        [*] - .. además con los dos botones que hay de seleccionar y el combo de SI/NO creo que se hace un lío a la hora de rellenar los datos de cuenta, aunque rellene los datos de cuenta con iban, además envía el resto de campos de la cuenta sin IBAN.
        [*] - Quitar el control de la fecha de salida y la hora, la introducen pero no se hace nada, es decir, que no se van a validar las 3 horas de antelación, la fecha de salida y la hora de salida son obligatorios pero no se hace nada con esos datos.
        [*] - ... Hay casos en los que cuando no meto la hora de salida, me da el error que es obligatorio y se ponen los campos en rojo pero ya no acepta ningún valor, y no me deja continuar, aunque los rellene bien me sigue dando error en rojo en esos datos de la hora.
        [*] - Estos errores te los comento para tenerlos en cuenta ya que no creo que tengan nada que ver con las pantallas y para que se intenten corregir en la nueva versión.
        [*] - ... En cuanto a la nueva versión con las pantallas, me ha pasado lo mismo tanto con las cuentas como con la hora de salida.
        .
        .
        Longitudes:
            [*] - Código del País. Obligatorio 3 caracteres máximo.
            [*] - Actualización de Código del País. con 2 y 3 caracteres máximo.
            [*] - Clave del banco, longitud 2
            [*] - Número de cuenta bancaria, obligatorio de longitud máxima 18
            [*] - Descripción financiera de la entidad, obligatorio y de longitud máxima 20 alfanumerico.
            [*] - Swift/BIC, obligatorio y de longitud máxima 11
            [*] - ABA. Longitud máxima 15.
            [*] - Las longitudes máximas no están controladas.

    TODO:
        [*] - para el DER 4032400003615 6958715644. el monto es un Integer 200 y no un double 200.00, y el pais del banco no es de 2 caracteres sino 3 MAU
        [*] - para el DER 4032400003606 6958715644. y el pais del banco no es de 2 caracteres sino 3 MAU
        [*] - Para el DER 4032400003563 42476822P arroja el error PR02
        [*] - Para el DER 4032400004220 42476822P el modo de transporte de salida es BARCO en el documento impreso y no aparece en la información del QR
        [*] - Para el DER 4032400003590 41780963Z el monto es un Integer 0 y no un double 0.00  arroja el error  ER
        [*] - Para el DER 4032400004674 41780963Z
        [*] - Para el DER 4032400003581 41780963Z


    TODO:
        [*] - Revisar cuando se selecciona los der en el panel coloca CUENTA en el campo de modo de transporte
        [*] - cuando se está en la ventana de envío de los DER y nos retrocedemos, la variable del valor documento se pierde.






